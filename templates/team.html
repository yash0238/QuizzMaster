{% extends "base.html" %}
{% block nav_links %}
  <a href="{{ url_for('team.index', code=teamCode) }}" class="nav-link">Team</a>
{% endblock %}

{% block title %}Team - {{ teamName or 'Quiz Team' }}{% endblock %}

{% block content %}
<div class="team-container">
    {% if error %}
        <div class="error-message">{{ error }}</div>
    {% else %}
        <div class="team-header">
            <h1>{{ teamName }}</h1>
            <div class="team-code">Code: {{ teamCode }}</div>
        </div>
        
        <div class="team-controls">
            <button id="buzzBtn" class="buzz-button" disabled>
                <span class="buzz-text">BUZZ!</span>
            </button>
            
            <div class="options-section">
                <h3>Answer Options</h3>
                <div class="options-grid" id="optionsGrid">
                    <button class="option-btn" data-option="0" disabled>A: Loading...</button>
                    <button class="option-btn" data-option="1" disabled>B: Loading...</button>
                    <button class="option-btn" data-option="2" disabled>C: Loading...</button>
                    <button class="option-btn" data-option="3" disabled>D: Loading...</button>
                </div>
            </div>
            
            <div class="lifelines-section">
                <h3>Lifelines</h3>
                <div class="lifelines-grid">
                    <button id="fiftyFiftyBtn" class="lifeline-btn locked" disabled>
                        <div class="lifeline-icon">50:50</div>
                        <div class="lifeline-label">Fifty-Fifty</div>
                    </button>
                    <button id="phoneBtn" class="lifeline-btn locked" disabled>
                        <div class="lifeline-icon">ðŸ“ž</div>
                        <div class="lifeline-label">Phone a Friend</div>
                    </button>
                    <button id="discussionBtn" class="lifeline-btn locked" disabled>
                        <div class="lifeline-icon">ðŸ‘¥</div>
                        <div class="lifeline-label">Team Discussion</div>
                    </button>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<script>
    // Bootstrap team data from server
    const teamData = {
        gameId: {{ gameId | tojson | safe }},
        teamCode: {{ teamCode | tojson | safe }},
        teamName: {{ teamName | tojson | safe }},
        teamId: {{ teamId | tojson | safe }},
        initialQuestionId: {{ initialQuestionId | tojson | safe }}
    };
</script>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/team.js') }}"></script>
{% endblock %}
